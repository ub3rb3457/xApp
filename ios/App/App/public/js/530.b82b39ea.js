"use strict";(self["webpackChunkPetBoutique"]=self["webpackChunkPetBoutique"]||[]).push([[530],{7318:(t,e,a)=>{a.d(e,{Z:()=>c});var o=a(2494),s=a(8825),n=a(514),l=a(2490);const r={props:{uid:String},setup(t){const e=t,a=l.storage.ref();var r=0;const i=(0,s.Z)(),d=l.firebase.functions().httpsCallable("addPetPhoto"),u=async()=>{const t=await n.V1.getPhoto({quality:90,allowEditing:!0,width:300,height:300,resultType:n.dk.DataUrl}),o=t.dataUrl,s="pets/"+e.uid+".jpeg";var u=a.child(s).putString(o,"data_url");u.on("state_changed",(t=>{switch(i.loading.show({delay:400}),r=t.bytesTransferred/t.totalBytes*100,console.log("Upload is "+r+"% done"),t.state){case l.firebase.storage.TaskState.PAUSED:console.log("Upload is paused");break;case l.firebase.storage.TaskState.RUNNING:console.log("Upload is running");break}}),(t=>{i.loading.hide(),console.error("Error during upload:",t)}),(()=>{i.loading.hide(),console.log("Upload is complete"),a.child(s).getDownloadURL().then((t=>{d({uid:e.uid,photoURL:t}),console.log(t)})).catch((t=>{}))}))};return(t,e)=>{const a=(0,o.up)("q-btn");return(0,o.wg)(),(0,o.j4)(a,{fab:"",color:"primary",icon:"camera",padding:"sm",class:"absolute",style:{top:"0",right:"12px",transform:"translateY(-50%)"},onClick:u})}}};var i=a(8240),d=a(7518),u=a.n(d);const c=r;u()(r,"components",{QBtn:i.Z})},5530:(t,e,a)=>{a.r(e),a.d(e,{default:()=>q});var o=a(9682),s=a(2494),n=a(2490),l=a(486),r=a(5626),i=a(7318);const d={class:"absolute-bottom"},u={class:"text-h6"},c={class:"text-subtitle2"},p=(0,s.Uk)("Action 1"),g=(0,s.Uk)("Action 2"),h={props:{uid:String,name:String,age:String,photoURL:String},setup(t){return(e,a)=>{const o=(0,s.up)("q-img"),n=(0,s.up)("q-card-section"),l=(0,s.up)("q-btn"),h=(0,s.up)("q-card-actions"),m=(0,s.up)("q-card");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(m,{class:"my-card full-width"},{default:(0,s.w5)((()=>[(0,s.Wm)(o,{src:t.photoURL},{default:(0,s.w5)((()=>[(0,s._)("div",d,[(0,s._)("div",u,(0,r.zw)(t.name),1),(0,s._)("div",c,(0,r.zw)(t.age),1)])])),_:1},8,["src"]),(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[(0,s.Wm)(i.Z,{uid:t.uid},null,8,["uid"])])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(l,{flat:""},{default:(0,s.w5)((()=>[p])),_:1}),(0,s.Wm)(l,{flat:""},{default:(0,s.w5)((()=>[g])),_:1})])),_:1})])),_:1})])}}};var m=a(151),w=a(4027),f=a(5589),U=a(9367),b=a(8240),k=a(7518),v=a.n(k);const S=h;v()(h,"components",{QCard:m.Z,QImg:w.Z,QCardSection:f.Z,QCardActions:U.Z,QBtn:b.Z});var _=a(7874);const y={setup(t){const e=(0,_.oR)();let a=(0,o.Fl)((()=>e.state.auth.user));const r=(0,l.C)(n.db.collection("users").doc(a.value.uid).collection("pets"));return(t,e)=>((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,o.SU)(r),(t=>((0,s.wg)(),(0,s.iD)("div",{class:"pet-card",key:t},[(0,s.Wm)(S,{uid:t.id,name:t.name,age:t.age,photoURL:t.photoURL},null,8,["uid","name","age","photoURL"])])))),128))}},q=y}}]);